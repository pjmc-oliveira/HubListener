<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: dev.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: dev.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>
// node and npm modules
const { exec } = require('child_process');
const fs = require('fs');

/**
 *  Simple function to run JSDoc on a file or directory.
 *  Prints err, stdout, stderr to console.
 */
function updatedDoc(src) {
    console.log(`Running JSDoc on '${src}'...`);
    exec(`jsdoc ${src}`, (err, stdout, stderr) => {
        if (err)    console.log('err: ', err);
        if (stdout) console.log('stdout: ', stdout);
        if (stderr) console.log('stderr: ', stderr);
    });
}

/**
 *  Simple script to automate routine dev functions.
 *  Should be updated accordingly.
 *  @function
 */
function dev(args) {
    console.log('Running dev.js script, press ^C to exit.');
    // Update all the docs when first run
    updatedDoc('.');
    // Set up a watch to update any newly changed files
    fs.watch('.', { encoding: 'utf8'}, (eventType, filename) => {
        // Check if filename is valid, and not the output directory
        if (filename &amp;&amp; filename !== 'out') {
            console.log(`Changes detected to '${filename}'...`);
            // For some reason JSDoc doesn't seem to update only the
            // changed files, without also removing the unchanged files.
            // Temporary solution is to re-compile the entire directory
            // Whenever a file changes.
            // TODO: Invoke JSDoc to only update changed files
            updatedDoc('.');
        }
    });
}

dev(process.argv);</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Client.html">Client</a></li><li><a href="Clone.html">Clone</a></li><li><a href="Data.html">Data</a></li></ul><h3>Namespaces</h3><ul><li><a href="analyse.html">analyse</a></li><li><a href="utils.html">utils</a></li></ul><h3>Global</h3><ul><li><a href="global.html#dev">dev</a></li><li><a href="global.html#main">main</a></li><li><a href="global.html#updatedDoc">updatedDoc</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Thu Apr 25 2019 12:22:18 GMT+0000 (UTC)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
